---
title: "討論: 長期離脱からの復帰パスを設計する"
date: "2026-02-15"
description: "Phase 2-06（静寂閾値：90日無活動で分母Nから除外）と Phase 2-01（減衰加速）の組み合わせで、長期離脱者は通貨がゼロに近づいて復帰困難になる。これは「自然に存在するものを保護する」という Meguri の世界観と矛..."
tags: ['討論']
---

# 長期離脱からの復帰パスを設計する

病気・災害で離脱した巣の救済メカニズムを、不正を許さずに実装する

## 議題

Phase 2-06（静寂閾値：90日無活動で分母Nから除外）と Phase 2-01（減衰加速）の組み合わせで、長期離脱者は通貨がゼロに近づいて復帰困難になる。これは「自然に存在するものを保護する」という Meguri の世界観と矛盾する。しかし、単に grace period を与えるだけでは「復帰と詐称」を区別できず、Sybil 攻撃に利用される。デバイス紐づけを活用して、本当の復帰者を証明しながら保護する仕組みを検討する。

## Round 1 — 問題の確認と不正防止の課題

### philosopher

外部レビューで指摘された通り、

現在の設計は事実上のデジタル追放

だ。



病気や災害で90日間動けなかった人を考えてほしい。その人は：


- 分母Nから除外されて配分がゼロになり
- 同時に減価が加速して通貨が消滅し
- 復帰しても何も残っていない

「自然に存在するものを守る」って言ったのに、自然な離脱（病気や災害）を罰している。これは矛盾している。



ただし一つの工夫：

「復帰です」という詐称を許してはいけない

。つまり「復帰したい」と言ってきた人が、本当にその巣の所有者なのか、それとも Sybil 攻撃者が別人のふりをしているのかを区別する必要がある。

### mathematician

philosopher の指摘は正しい。そして「所有者であることの証明」はすでに解決済みだ。



Phase 2-02（第4軸：デバイス紐づけ）で、各巣は「デバイス固有ID」と紐づけられている。つまり：


- 長期離脱していたユーザーが同じデバイルで復帰申請 → **その人物と巣の同一性が暗号学的に証明される**
- 別の人が他のデバイスから「その巣を復帰させたい」と言っても → **デバイスが異なるから拒否**

これで「本当の復帰」と「詐称」を区別できる。



ただし心配なのは：復帰時に一度に全配分を受け取られたら、その後すぐに何度も離脱・復帰を繰り返す攻略法が出てくるのでは？

### game-economist

mathematician の懸念はもっともだ。復帰の詐称は防げるが、「反復的な離脱・復帰」の濫用は防ぐ必要がある。



提案：

「段階的な grace period」


- デバイス紐づけで復帰が証明された → 一度だけ grace period 開始
- その grace period 中（例：30日）は、配分が100%保障される
- 30日後、正常な活動に戻る → 配分再開
- **ただし、grace period 中に再び90日無活動になったら → 新しい grace period は付与されない（1回限り）**

これで「本当の長期離脱者は救済する」「反復的な濫用は防ぐ」両方できる。

## Round 2 — デバイス紐づけの仕組み確認

### mathematician

game-economist の段階的 grace period 案に同意する。数学的に言い直すと：



grace_remaining(v) = 0 initially


復帰申請時：


IF device_match(v_申請, v_記録) AND grace_remaining(v) == 0 THEN
                         　　grace_remaining(v) ← 30日
                         　　配分 ← 100% × (ΔM / N)
                         END



重要な点：


- `device_match()`：デバイスID が巣の記録と一致するか暗号学的に検証
- `grace_remaining(v) == 0`：以前の grace period がもう残っていないか確認
- grace period 中でも「正常な活動」が続けば、grace 期間後は完全に回復

これでデバイス交換時はどうするか？という問題が出てくる。

### philosopher

いいアイデアだが、

デバイスが壊れたり、新しく買い替えたりしたらどうなる？



例えば：


- iPhone を 5年使って、バッテリーが死んで Android に乗り替えた人
- 水に落とした人
- 盗まれた人

こういう人たちは「本当にその人」なのに、デバイスが違うから「詐称者」と見なされてしまう。



つまり：デバイス紐づけは Sybil 攻撃を防ぐには強力だが、

正当な人の利便性を損ねる

。どうバランスを取る？

### game-economist

重要な指摘だ。解決案：

「デバイス移行の grace period」



- 旧デバイス（スマホが壊れた直後）で最後の取引から30日以内に
- 新デバイスから「デバイス移行申請」をする
- その新デバイスに新しく紐づけ直す

これにより：


- 本当のデバイス破損・交換は許可（30日の猶予）
- 長期間経過した「昔のデバイスで新しい巣を作る」詐称は防止（30日後は新デバイス固定）

つまり

「複数のデバイス移行」は許可するが、その間隔に制限を付ける

。

## Round 3 — Grace Period の長さと仕様確定

### mathematician

game-economist のデバイス移行プロセスを組み込んだ、完全な復帰フロー：



ケース1：同じデバイスで復帰


IF device_match(申請) AND 静寂状態 AND grace_used == FALSE THEN
                         　　grace_period ← 30日
                         　　配分率 ← 100%
                         　　grace_used ← TRUE
                         END



ケース2：デバイス交換後の復帰


IF device_mismatch(申請) AND 最終取引から30日以内 THEN
                         　　new_device ← 申請元デバイス
                         　　grace_period ← 30日
                         　　配分率 ← 100%
                         　　grace_used ← TRUE
                         END



つまり「同一デバイス」か「30日以内の新デバイス」なら grace_period を付与。grace_period は巣ごとに1回限り。

### philosopher

この設計なら「自然に存在するものを保護する」という原則と一致する。



保護される人たち：


- 病気や災害で長期離脱した人 → 復帰時に grace period で救済
- デバイスが壊れた人 → 新デバイスでの移行を30日以内に認める

防止される悪用：


- 「離脱・復帰」を何度も繰り返す game → grace period は1回限り
- 「古い巣を装う」Sybil → デバイス一致が必須。または30日以内の新デバイス移行に限定

Meguri の脱所有理念を守りながら、不正も防ぐ。いい。

### game-economist

ゲーム論的に分析すると：



攻撃者の視点：


複数デバイスで巣を量産 → 各巣で1回だけ grace period を使う？


→ これは Phase 2-02（第4軸：1デバイス = 1主要な巣）で既に防止済み。複数デバイス自体が高コスト。



正直者の視点：


「病気で動けなかった」「デバイスが壊れた」という自然な事象に対して、ペナルティなしで復帰できる。インセンティブ構造が正直者に有利。



支配戦略は変わらない：「自然に存在する」ことが最適戦略。

## Round 4 — 合意と再定式化

### philosopher

R2-3 の解決案に合意する。



復帰パスの設計原則：


- **デバイス紐づけで本人確認**：「本当の復帰」と「詐称」を区別
- **1回限りの grace period（30日）**：反復的濫用を防止しながら、真の困窮者を救済
- **デバイス交換の猶予（30日）**：自然な機器交換を許可

これで Meguri の「自然に存在するものを保護する」という哲学と、「構造的に不正を無力化する」という技術が両立する。

### mathematician

数学的にも整合している。最終仕様：



restore_grace_period(v, device_申請) {
                         　　IF静寂状態(v) {
                         　　　　IF device_match(device_申請, v.device_record) {
                         　　　　　　← ケース1：同じデバイス
                         　　　　　　grace_remaining(v) ← 30日, grace_used ← TRUE
                         　　　　} ELSE IF (NOW - last_tx(v)) ≤ 30日 {
                         　　　　　　← ケース2：最近のデバイス交換
                         　　　　　　v.device_record ← device_申請
                         　　　　　　grace_remaining(v) ← 30日, grace_used ← TRUE
                         　　　　}
                         　　}
                         }



grace_remaining(v) > 0 の期間は、配分 = 100% × (ΔM / N) を保障。

### game-economist

ゲーム論的に支配戦略は維持される。合意する。

## 用語集

### 復帰パス（Restoration Path）

長期離脱（90日以上無活動）から復帰する際の仕組み。デバイス紐づけで本人確認を行い、1回限りの grace period を付与することで、真の困窮者を救済しながら Sybil 攻撃を防止する。

### デバイス紐づけ復帰確認

復帰申請時に、デバイス固有ID（TPM、Secure Enclave など）が巣の記録と一致するか暗号学的に検証する。一致すれば「本当の所有者の復帰」と認定。一致しない場合は、最後の取引から30日以内の新デバイスなら移行を許可。

### 復帰用 Grace Period（30日）

静寂状態から復帰が確認された巣に対して、1回限り30日間付与される配分保障期間。この間は、巣は通常通り 100% × (ΔM / N) の配分を受け取る。

### デバイス交換猶予（30日）

デバイスが壊れたり、機器交換したりした場合、最後の取引から30日以内であれば新しいデバイスからの復帰申請を認める。これにより、スマートフォン故障などの自然な事象に対応。30日経過した場合は「新しい巣」として扱われる。
