<!DOCTYPE html>
<html lang="ja">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Meguri（めぐり）ってなに？</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: #0d1117;
            color: #c9d1d9;
            min-height: 100vh;
            padding: 40px 20px;
            line-height: 1.8;
        }

        .container {
            max-width: 860px;
            margin: 0 auto;
        }

        a {
            color: #58a6ff;
            text-decoration: none;
        }

        a:hover {
            text-decoration: underline;
        }

        /* ===== ヒーロー ===== */
        .hero {
            text-align: center;
            padding: 60px 0 48px;
            border-bottom: 2px solid #30363d;
            margin-bottom: 56px;
        }

        .hero-icon {
            font-size: 72px;
            margin-bottom: 16px;
            display: block;
        }

        .hero h1 {
            font-size: 36px;
            color: #e6edf3;
            font-weight: 700;
            margin-bottom: 12px;
        }

        .hero h1 span {
            background: linear-gradient(135deg, #58a6ff, #7ee787);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .hero-sub {
            font-size: 17px;
            color: #8b949e;
            margin-bottom: 28px;
            line-height: 1.8;
        }

        .hero-tagline {
            display: inline-block;
            padding: 10px 28px;
            background: #161b22;
            border: 1px solid #30363d;
            border-radius: 40px;
            font-size: 16px;
            color: #c9d1d9;
            letter-spacing: 1px;
        }

        .hero-tagline em {
            color: #7ee787;
            font-style: normal;
            font-weight: 600;
        }

        .back-link {
            display: inline-block;
            margin-bottom: 20px;
            font-size: 14px;
        }

        /* ===== セクション共通 ===== */
        .section {
            margin-bottom: 64px;
        }

        .section-title {
            font-size: 22px;
            color: #e6edf3;
            font-weight: 700;
            margin-bottom: 12px;
        }

        .section-lead {
            font-size: 15px;
            color: #c9d1d9;
            margin-bottom: 28px;
            line-height: 1.9;
        }

        .section-lead strong {
            color: #e6edf3;
        }

        /* ===== イントロカード ===== */
        .intro-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 16px;
        }

        .intro-card {
            background: #161b22;
            border: 1px solid #30363d;
            border-radius: 12px;
            padding: 24px 20px;
        }

        .intro-card .card-icon {
            font-size: 28px;
            margin-bottom: 10px;
            display: block;
        }

        .intro-card h3 {
            font-size: 15px;
            color: #e6edf3;
            margin-bottom: 8px;
        }

        .intro-card p {
            font-size: 13px;
            color: #8b949e;
            line-height: 1.8;
        }

        .intro-card.wide {
            grid-column: 1 / -1;
        }

        /* ===== ストーリーブロック ===== */
        .story-block {
            background: #161b22;
            border: 1px solid #30363d;
            border-radius: 14px;
            padding: 32px;
            margin-bottom: 20px;
        }

        .story-block h3 {
            font-size: 18px;
            color: #e6edf3;
            margin-bottom: 12px;
        }

        .story-block p {
            font-size: 14px;
            color: #c9d1d9;
            line-height: 1.9;
            margin-bottom: 12px;
        }

        .story-block p:last-child {
            margin-bottom: 0;
        }

        .story-metaphor {
            background: rgba(210, 168, 255, 0.08);
            border-left: 3px solid #d2a8ff;
            border-radius: 0 8px 8px 0;
            padding: 14px 18px;
            margin: 16px 0;
            font-size: 14px;
            color: #d2a8ff;
            line-height: 1.8;
        }

        /* ===== 比較テーブル ===== */
        .comparison {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 0;
            border-radius: 12px;
            overflow: hidden;
            border: 1px solid #30363d;
            margin-bottom: 12px;
        }

        .comparison-col {
            padding: 24px;
        }

        .comparison-col.old {
            background: #1c1210;
            border-right: 1px solid #30363d;
        }

        .comparison-col.new {
            background: #0d1a12;
        }

        .comparison-col h4 {
            font-size: 13px;
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-bottom: 16px;
        }

        .comparison-col.old h4 {
            color: #f8514980;
        }

        .comparison-col.new h4 {
            color: #7ee787;
        }

        .comparison-col ul {
            list-style: none;
            font-size: 14px;
        }

        .comparison-col ul li {
            padding: 6px 0;
            display: flex;
            align-items: flex-start;
            gap: 8px;
        }

        .comparison-col.old ul li::before {
            content: '✕';
            color: #f8514980;
            font-weight: 700;
            flex-shrink: 0;
        }

        .comparison-col.new ul li::before {
            content: '◎';
            color: #7ee787;
            font-weight: 700;
            flex-shrink: 0;
        }

        .comparison-caption {
            font-size: 12px;
            color: #484f58;
            text-align: right;
        }

        /* ===== しくみアコーディオン ===== */
        .mechanism-list {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .mechanism {
            background: #161b22;
            border: 1px solid #30363d;
            border-radius: 12px;
            overflow: hidden;
        }

        .mechanism-header {
            display: flex;
            align-items: center;
            gap: 14px;
            padding: 18px 24px;
            cursor: pointer;
            user-select: none;
            transition: background 0.2s;
        }

        .mechanism-header:hover {
            background: #1c2129;
        }

        .mechanism-num {
            width: 34px;
            height: 34px;
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            font-size: 14px;
            flex-shrink: 0;
        }

        .mechanism:nth-child(1) .mechanism-num {
            background: rgba(248, 81, 73, 0.15);
            color: #f85149;
        }

        .mechanism:nth-child(2) .mechanism-num {
            background: rgba(88, 166, 255, 0.15);
            color: #58a6ff;
        }

        .mechanism:nth-child(3) .mechanism-num {
            background: rgba(126, 231, 135, 0.15);
            color: #7ee787;
        }

        .mechanism:nth-child(4) .mechanism-num {
            background: rgba(210, 168, 255, 0.15);
            color: #d2a8ff;
        }

        .mechanism:nth-child(5) .mechanism-num {
            background: rgba(255, 166, 87, 0.15);
            color: #ffa657;
        }

        .mechanism:nth-child(6) .mechanism-num {
            background: rgba(121, 192, 255, 0.15);
            color: #79c0ff;
        }

        .mechanism-info {
            flex-grow: 1;
        }

        .mechanism-info h3 {
            font-size: 15px;
            color: #e6edf3;
            margin-bottom: 3px;
        }

        .mechanism-info p {
            font-size: 12px;
            color: #8b949e;
        }

        .mechanism-toggle {
            color: #484f58;
            font-size: 16px;
            transition: transform 0.3s;
        }

        .mechanism.open .mechanism-toggle {
            transform: rotate(180deg);
        }

        .mechanism-body {
            display: none;
            padding: 0 24px 20px 72px;
        }

        .mechanism.open .mechanism-body {
            display: block;
        }

        .mechanism-body p,
        .mechanism-body li {
            font-size: 14px;
            color: #c9d1d9;
            line-height: 1.9;
        }

        .mechanism-body ul {
            margin: 8px 0 8px 16px;
        }

        .mech-formula {
            display: block;
            background: #0d1117;
            border: 1px solid #30363d;
            border-radius: 8px;
            padding: 12px 16px;
            margin: 12px 0;
            font-family: 'Courier New', monospace;
            font-size: 13px;
            color: #7ee787;
            overflow-x: auto;
            white-space: pre;
        }

        .mech-note {
            font-size: 12px;
            color: #8b949e;
            border-left: 2px solid #30363d;
            padding-left: 12px;
            margin-top: 12px;
        }

        .mech-metaphor {
            background: rgba(210, 168, 255, 0.08);
            border-left: 3px solid #d2a8ff;
            border-radius: 0 8px 8px 0;
            padding: 12px 16px;
            margin: 12px 0;
            font-size: 13px;
            color: #d2a8ff;
        }

        /* ===== 多層防御図 ===== */
        .layer-diagram {
            display: flex;
            flex-direction: column;
            gap: 4px;
        }

        .layer-row {
            display: flex;
            align-items: stretch;
            border-radius: 10px;
            overflow: hidden;
            min-height: 52px;
        }

        .layer-label {
            width: 130px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
            font-weight: 700;
            letter-spacing: 0.5px;
            flex-shrink: 0;
            text-align: center;
            padding: 8px;
        }

        .layer-content {
            flex-grow: 1;
            display: flex;
            align-items: center;
            padding: 10px 20px;
            font-size: 13px;
            background: #161b22;
            border: 1px solid #30363d;
            border-left: none;
        }

        .layer-row:nth-child(1) .layer-label {
            background: #f8514930;
            color: #f85149;
        }

        .layer-row:nth-child(2) .layer-label {
            background: #58a6ff30;
            color: #58a6ff;
        }

        .layer-row:nth-child(3) .layer-label {
            background: #7ee78730;
            color: #7ee787;
        }

        .layer-row:nth-child(4) .layer-label {
            background: #d2a8ff30;
            color: #d2a8ff;
        }

        .layer-row:nth-child(5) .layer-label {
            background: #ffa65730;
            color: #ffa657;
        }

        .layer-row:nth-child(6) .layer-label {
            background: #79c0ff30;
            color: #79c0ff;
        }

        /* ===== アーキテクチャ3層図 ===== */
        .arch-layer-diagram {
            display: flex;
            flex-direction: column;
            gap: 4px;
            margin: 16px 0;
        }

        .arch-layer-diagram .layer-row:nth-child(1) .layer-label {
            background: #7ee78730;
            color: #7ee787;
        }

        .arch-layer-diagram .layer-row:nth-child(3) .layer-label {
            background: #58a6ff30;
            color: #58a6ff;
        }

        .arch-layer-diagram .layer-row:nth-child(5) .layer-label {
            background: #d2a8ff30;
            color: #d2a8ff;
        }

        .layer-arrow {
            text-align: center;
            color: #30363d;
            font-size: 16px;
            padding: 1px 0;
        }

        /* ===== 統一原理 ===== */
        .principle-box {
            background: #161b22;
            border: 2px solid #7ee78740;
            border-radius: 16px;
            padding: 36px;
            text-align: center;
            position: relative;
        }

        .principle-box::before {
            content: '';
            position: absolute;
            inset: -2px;
            border-radius: 16px;
            background: linear-gradient(135deg, #7ee78720, #58a6ff20, #d2a8ff20);
            z-index: -1;
        }

        .principle-box blockquote {
            font-size: 18px;
            color: #e6edf3;
            font-weight: 500;
            line-height: 2.2;
            margin-bottom: 16px;
        }

        .principle-box .source {
            font-size: 12px;
            color: #8b949e;
        }

        /* ===== 未解決課題 ===== */
        .open-issues {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .open-issue {
            display: flex;
            align-items: flex-start;
            gap: 12px;
            background: #161b22;
            border: 1px solid #30363d;
            border-radius: 10px;
            padding: 16px 20px;
        }

        .issue-severity {
            width: 10px;
            height: 10px;
            border-radius: 50%;
            margin-top: 6px;
            flex-shrink: 0;
        }

        .issue-severity.high {
            background: #f85149;
        }

        .issue-severity.mid {
            background: #ffa657;
        }

        .issue-severity.low {
            background: #58a6ff;
        }

        .open-issue h4 {
            font-size: 14px;
            color: #e6edf3;
            margin-bottom: 4px;
        }

        .open-issue p {
            font-size: 13px;
            color: #8b949e;
        }

        /* ===== 呼びかけボックス ===== */
        .callout {
            background: linear-gradient(135deg, #161b22, #1a2332);
            border: 1px solid #30363d;
            border-radius: 16px;
            padding: 36px;
            text-align: center;
        }

        .callout h3 {
            font-size: 20px;
            color: #e6edf3;
            margin-bottom: 12px;
        }

        .callout p {
            font-size: 14px;
            color: #c9d1d9;
            line-height: 1.9;
            margin-bottom: 16px;
            max-width: 640px;
            margin-left: auto;
            margin-right: auto;
        }

        .callout-links {
            display: flex;
            justify-content: center;
            gap: 12px;
            flex-wrap: wrap;
        }

        .callout-link {
            display: inline-block;
            padding: 10px 20px;
            border-radius: 8px;
            font-size: 14px;
            font-weight: 600;
            transition: all 0.2s;
        }

        .callout-link.primary {
            background: #1f6feb;
            color: #fff;
        }

        .callout-link.primary:hover {
            background: #388bfd;
            text-decoration: none;
            transform: translateY(-2px);
        }

        .callout-link.secondary {
            background: #21262d;
            color: #c9d1d9;
            border: 1px solid #30363d;
        }

        .callout-link.secondary:hover {
            background: #30363d;
            text-decoration: none;
            transform: translateY(-2px);
        }

        /* ===== フッター ===== */
        footer {
            text-align: center;
            margin-top: 64px;
            padding-top: 32px;
            border-top: 1px solid #30363d;
            color: #8b949e;
            font-size: 13px;
        }

        /* ===== レスポンシブ ===== */
        @media (max-width: 768px) {
            .hero h1 {
                font-size: 28px;
            }

            .intro-grid {
                grid-template-columns: 1fr;
            }

            .comparison {
                grid-template-columns: 1fr;
            }

            .comparison-col.old {
                border-right: none;
                border-bottom: 1px solid #30363d;
            }

            .mechanism-body {
                padding-left: 24px;
            }

            .layer-label {
                width: 100px;
                font-size: 11px;
            }

            .callout-links {
                flex-direction: column;
                align-items: center;
            }
        }

        /* ===== アニメーション ===== */
        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(12px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .section {
            animation: fadeIn 0.6s ease backwards;
        }

        .section:nth-child(2) {
            animation-delay: 0.1s;
        }

        .section:nth-child(3) {
            animation-delay: 0.2s;
        }

        .section:nth-child(4) {
            animation-delay: 0.3s;
        }

        .section:nth-child(5) {
            animation-delay: 0.4s;
        }

        .section:nth-child(6) {
            animation-delay: 0.5s;
        }

        .section:nth-child(7) {
            animation-delay: 0.6s;
        }

        .section:nth-child(8) {
            animation-delay: 0.7s;
        }
    </style>
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
</head>

<body>
    <div class="container">

        <!-- ===== ヒーロー ===== -->
        <div class="hero">
            <a href="index.html" class="back-link">← 議論ログ一覧に戻る</a>
            <span class="hero-icon">🌀</span>
            <h1><span>Meguri</span> ってなに？</h1>
            <p class="hero-sub">
                所有ではなく循環が本質の通貨という名の「喜び」。<br>
                移りゆくと人々が豊かさの循環を助け、それが喜びとなり、増える。<br>
                喜びは瞬間的なものであり、時間とともに自然に消えていく。
            </p>
            <div class="hero-tagline">
                所有しない。溜め込まない。ただ、<em>めぐる</em>。
            </div>
        </div>

        <!-- ===== 1. ざっくりイメージ ===== -->
        <div class="section">
            <h2 class="section-title">ざっくりこんな通貨です</h2>
            <p class="section-lead">
                Meguri（めぐり）は従来の「所有するお金」ではなく、<strong>「循環そのもの」を本質</strong>とした仮想通貨の構想です。
                生き物のような性質を持ち、社会の中をめぐることで全体が豊かになっていきます。
            </p>

            <div class="intro-grid">
                <div class="intro-card">
                    <span class="card-icon">🍃</span>
                    <h3>自然に減っていく</h3>
                    <p>時間とともに少しずつ自然に減っていきます。富の偏りをやわらげるための仕組みです。</p>
                </div>
                <div class="intro-card">
                    <span class="card-icon">🌱</span>
                    <h3>めぐると増える</h3>
                    <p>社会の中でよく循環すると、Meguri 全体の総量がじわっと増えます。個人ではなく、社会全体が豊かになる仕組みです。</p>
                </div>
                <div class="intro-card">
                    <span class="card-icon">🪹</span>
                    <h3>巣（ウォレット）</h3>
                    <p>溜め込む金庫ではなく、Meguri が一時的に立ち寄る「巣」や「休憩所」のようなもの。動かさない時間が長いほど、Meguri は弱っていきます。</p>
                </div>
                <div class="intro-card">
                    <span class="card-icon">🌍</span>
                    <h3>全体でひとつの生き物</h3>
                    <p>個人の残高が直接増えるのではなく、社会全体の Meguri がじわっと増える。全体でもひとつの生き物みたいに。</p>
                </div>
            </div>
        </div>

        <!-- ===== 2. 巣のこと ===== -->
        <div class="section">
            <h2 class="section-title">「巣」ってどんな場所？</h2>

            <div class="story-block">
                <p>
                    Meguri の「巣」は、財布や口座ではありません。所有の拠点ではなく、<strong>通過点</strong>として設計されます。
                    いわば「流れを可視化する場所」です。
                </p>
                <p>
                    だから、長くとどまるほど居心地が悪くなる。動かさない時間が長いほど減価が強くなり、巣に籠もるほど Meguri が弱っていく感じです。
                </p>
                <div class="story-metaphor">
                    🏡 逆に、よく出入りがある巣は「活気がある」。頻繁に Meguri が出入りしている休憩所ほど、全体の生き物（Meguri 総量）が元気になる方向に寄与する。巣そのものが評価されるというより、「そこを通る流れ」が評価されます。
                </div>
            </div>
        </div>

        <!-- ===== 3. 減り方と増え方 ===== -->
        <div class="section">
            <h2 class="section-title">減り方と増え方</h2>

            <div class="story-block">
                <h3>🍂 減り方</h3>
                <p>
                    滑らかに毎日少しずつ減ります。大口保有者ほど速く減ります。
                    自然の中で水が流れずに留まると淀むように、通貨もめぐらなければ自然に消えていきます。
                </p>
            </div>

            <div class="story-block">
                <h3>🌸 増え方 — Mana と Bloom</h3>
                <p>
                    取引一回ごとに元気になって、あるタイミングで増えます。どこで増えるかはコントロールできません。
                    決定論的じゃなくて、確率やタイミングの揺らぎを入れています。
                </p>
                <div class="story-metaphor">
                    🧬 まるで、たくさん動いた細胞がある日ふっと分裂するみたいな感じ。人間が「完全に最適化できない余地」をわざと残しています。
                </div>
                <p>
                    流通すると Meguri ネットワーク全体に <strong>Mana（マナ）</strong>がたまり、閾値を超えると <strong>Bloom（開花）</strong>— 新しい Meguri が生まれます。
                    配分は<strong>「雨モデル」</strong>。すべての巣に等しく降りそそぎます。
                </p>
                <div class="story-metaphor">
                    🌧️ 雨はどの巣にも等しく降る。たくさんの巣を持っても、1つの巣あたりの雨は同じ。だから巣を増やしても意味がない。
                </div>
            </div>
        </div>

        <!-- ===== 4. 不正への考え方 ===== -->
        <div class="section">
            <h2 class="section-title">不正にどう向き合うか</h2>

            <div class="story-block">
                <p>
                    最大の問題は Sybil 攻撃 — 「1人が複数の巣を作り、別人のふりをして有利に振る舞う」こと。
                    通常は本人確認（KYC）や生体認証で防ぎますが、それは管理者が「人間を管理する」構造。
                    所有・支配・監視の構図に戻ってしまい、Meguri の世界観と矛盾します。
                </p>
                <p>
                    そこで Meguri では、Sybil を<strong>「排除」するのではなく、「意味がない」構造にする</strong>という発想を取ります。
                    不自然な存在のしかたを「育たない」構造にする。「1人 = 1巣」を強制するのではなく、<strong>複数の巣を自然に維持すること自体が極端に難しい世界</strong>を作ります。
                </p>
                <div class="story-metaphor">
                    🛡️ 「識別より無力化」— 悪意ある行動を見つけて罰するのではなく、やっても得しない構造にする。攻撃が自己弱体化に変換される世界。
                </div>
            </div>

            <div class="story-block">
                <h3>Proof of Being — 存在の証明</h3>
                <p>
                    「何をしたか」ではなく「どう存在しているか」を評価します。
                    たくさん持つ、たくさん動かす、たくさん稼ぐ——ではなく、
                    <strong>自然に生きているか、偏らず循環しているか、無理のないリズムを持っているか</strong>が評価されます。
                </p>
                <p>
                    この構造は Proof of Work（仕事の証明）や Proof of Stake（持ち分の証明）とは異なる、
                    <strong>「Proof of Being（存在の証明）」</strong>とも言える新しいカテゴリです。
                </p>
                <div class="story-metaphor">
                    🌱 存在の「有無」は厳しく。存在の「質」は寛容に。正直者にはソフト、攻撃者にはハード。
                </div>
            </div>
        </div>

        <!-- ===== 5. 従来通貨との比較 ===== -->
        <div class="section">
            <h2 class="section-title">従来の仮想通貨との違い</h2>
            <p class="section-lead">常識をひっくり返すような設計です。</p>

            <div class="comparison">
                <div class="comparison-col old">
                    <h4>従来の仮想通貨</h4>
                    <ul>
                        <li>持つほど有利（富の蓄積）</li>
                        <li>計算力 = 信頼（PoW / PoS）</li>
                        <li>本人確認で不正と戦う</li>
                        <li>個人の利益最大化が目的</li>
                        <li>ウォレット = 金庫</li>
                    </ul>
                </div>
                <div class="comparison-col new">
                    <h4>Meguri</h4>
                    <ul>
                        <li>溜め込むと自然に減る</li>
                        <li>存在の仕方 = 信頼（Proof of Being）</li>
                        <li>攻撃しても得しない構造で守る</li>
                        <li>循環すると社会全体が潤う</li>
                        <li>ウォレット = 巣（通過点）</li>
                    </ul>
                </div>
            </div>
            <p class="comparison-caption">※ Meguri は概念設計段階のプロジェクトです</p>
        </div>

        <!-- ===== 6. もう少し詳しく ===== -->
        <div class="section">
            <h2 class="section-title">もう少し詳しく知りたい方へ</h2>
            <p class="section-lead">
                討論を通じて合意された6つのメカニズム。クリックで詳細を展開できます。
            </p>

            <div class="mechanism-list">

                <!-- M1: 自然減価 -->
                <div class="mechanism">
                    <div class="mechanism-header" onclick="this.parentElement.classList.toggle('open')">
                        <div class="mechanism-num">1</div>
                        <div class="mechanism-info">
                            <h3>自然減価</h3>
                            <p>溜め込むほど減る。大口保有 + 長期滞留 + 低スコアで加速。</p>
                        </div>
                        <span class="mechanism-toggle">▼</span>
                    </div>
                    <div class="mechanism-body">
                        <p>通貨が一つの巣に留まると、時間とともに自然に減っていきます。保有量が多いほど、動かさない期間が長いほど、減りが早くなります。</p>
                        <div class="mech-formula">$$\lambda(B, \tau, S) = \left(\alpha + \beta \cdot \frac{B}{B_{\text{median}}} + \gamma \cdot f(\tau)\right) \cdot g(S)$$</div>
                        <ul>
                            <li><strong>B</strong> = 保有量。中央値より多ければ加速</li>
                            <li><strong>τ</strong> = 最後の取引からの経過時間</li>
                            <li><strong>g(S)</strong> = スコアに基づく加速。<strong>加速のみ・軽減なし</strong></li>
                        </ul>
                        <p class="mech-note">「正直に生きること」が自動的に減価を遅くする。不自然な行動だけが減価を加速させる自然法則的な設計。</p>
                    </div>
                </div>

                <!-- M2: 循環品質 -->
                <div class="mechanism">
                    <div class="mechanism-header" onclick="this.parentElement.classList.toggle('open')">
                        <div class="mechanism-num">2</div>
                        <div class="mechanism-info">
                            <h3>循環品質（Q）</h3>
                            <p>「良い循環」を測る体温計。多様性・非定型性・連続性の3要素で評価。</p>
                        </div>
                        <span class="mechanism-toggle">▼</span>
                    </div>
                    <div class="mechanism-body">
                        <p>Meguri が好む「良い循環」を<strong>多様性・非定型性・連続性</strong>で定義しています。</p>
                        <ul>
                            <li><strong>多様性</strong> — 色々な相手とやり取りしている</li>
                            <li><strong>非定型性</strong> — 毎回同じパターンの繰り返しではない</li>
                            <li><strong>連続性</strong> — 途切れず穏やかに流れ続けている</li>
                        </ul>
                        <div class="mech-metaphor">🏞️ 細い小川が絶えず流れ続ける姿が、Meguri にとっての「良い循環」。</div>
                        <p class="mech-note">体温計を温めても恩恵がないので、誰も指標を攻略しようとしない（グッドハートの法則への対策）。</p>
                    </div>
                </div>

                <!-- M3: Mana と Bloom -->
                <div class="mechanism">
                    <div class="mechanism-header" onclick="this.parentElement.classList.toggle('open')">
                        <div class="mechanism-num">3</div>
                        <div class="mechanism-info">
                            <h3>Mana 蓄積と Bloom</h3>
                            <p>ネットワーク全体の循環が閾値を超えると「ふっと」通貨が増える。雨モデルで均等配分。</p>
                        </div>
                        <span class="mechanism-toggle">▼</span>
                    </div>
                    <div class="mechanism-body">
                        <p>Mana はネットワーク全体の循環品質に応じて蓄積されます。閾値を超えると Bloom（開花）が発生。</p>
                        <ul>
                            <li><strong>確定部分（75%）</strong> — 毎期ゆっくり増加。安心感。</li>
                            <li><strong>Bloom 部分（25%）</strong> — 確率的に「ふっと」発生。生命的な驚き。</li>
                        </ul>
                        <div class="mech-formula">$$\text{各巣への配分} = \frac{\Delta M}{N} \quad \text{（全巣均等 = 雨モデル）}$$</div>
                        <p class="mech-note">雨モデルにより、複数の巣を作っても利益が増えない。Sybil攻撃の ROI がゼロに。</p>
                    </div>
                </div>

                <!-- M4: 三層構造 -->
                <div class="mechanism">
                    <div class="mechanism-header" onclick="this.parentElement.classList.toggle('open')">
                        <div class="mechanism-num">4</div>
                        <div class="mechanism-info">
                            <h3>三層構造</h3>
                            <p>「距離・時間・エントロピー」三軸から「減価・循環品質・VRF」三層へ進化。</p>
                        </div>
                        <span class="mechanism-toggle">▼</span>
                    </div>
                    <div class="mechanism-body">
                        <p>当初の三軸はGPS依存や農村部の誤検知問題から、三層構造へ再設計されました。</p>
                        <ul>
                            <li><strong>第1層: 減価</strong> — 不自然な保有パターンを加速消滅</li>
                            <li><strong>第2層: 循環品質（Q_equity）</strong> — コミュニティ相対評価</li>
                            <li><strong>第3層: VRF</strong> — 検証可能な乱数で予測困難性を確保</li>
                        </ul>
                        <p>スコアは非表示。<strong>zk-SNARK</strong>（ゼロ知識証明）で「閾値を超えているか」だけ検証可能に。</p>
                        <div class="mech-metaphor">🔍 スコアが見えなければ攻略できない。でも「大丈夫」は誰でも確認できる。</div>
                    </div>
                </div>

                <!-- M5: Proof of Being -->
                <div class="mechanism">
                    <div class="mechanism-header" onclick="this.parentElement.classList.toggle('open')">
                        <div class="mechanism-num">5</div>
                        <div class="mechanism-info">
                            <h3>Proof of Being（二層構造）</h3>
                            <p>存在の有無を厳しく（AND条件）、存在の質を寛容に（ソフトミン）。</p>
                        </div>
                        <span class="mechanism-toggle">▼</span>
                    </div>
                    <div class="mechanism-body">
                        <ul>
                            <li><strong>第一層（異常検出）</strong> — AND条件。1つでもゼロなら不通過。バイナリ判定。</li>
                            <li><strong>第二層（恩恵配分）</strong> — ソフトミン方式。最も弱い軸を重視し、不完全な存在にもやさしく。</li>
                        </ul>
                        <p>減価との連動は第一層のフラグ（二値）のみ。連続スコアとは独立させ「死のスパイラル」を回避。</p>
                        <p class="mech-note">PoB は「人間性の証明」ではなく「存在の証明」。AI が自然に存在するなら、それも受け入れる。</p>

                        <h4 style="margin-top: 16px; margin-bottom: 8px; color: #c9d1d9;">対応デバイスと識別機構（第4軸）</h4>
                        <p>Meguri はあらゆるプラットフォームでの利用を想定しています。各デバイスのハードウェアセキュリティ機能を活用して、「1デバイス = 1主要な巣」の原則を実装：</p>
                        <ul>
                            <li><strong>PC / Windows / macOS</strong> — TPM 2.0（Trusted Platform Module）/ Secure Boot / CPU シリアルナンバー</li>
                            <li><strong>iPhone / iPad</strong> — Secure Enclave / Keychain（Apple のハードウェアセキュリティ）</li>
                            <li><strong>Android スマートフォン / タブレット</strong> — TEE（Trusted Execution Environment）/ Hardware Keystore</li>
                            <li><strong>Linux など</strong> — TPM 2.0 或いは同等の認証機構</li>
                        </ul>
                        <p class="mech-note" style="margin-top: 12px;">複数の物理デバイスを持つ人が複数の巣を運用することは可能（PC + iPhone で巣A と巣B など）。ただし1デバイスで複数の主要な巣を作ることは不可能。これにより AI による大量の「独立した存在」の偽装を、物理的コストで無力化します。</p>
                    </div>
                </div>

                <!-- M6: 静寂閾値 -->
                <div class="mechanism">
                    <div class="mechanism-header" onclick="this.parentElement.classList.toggle('open')">
                        <div class="mechanism-num">6</div>
                        <div class="mechanism-info">
                            <h3>静寂閾値</h3>
                            <p>90日間取引ゼロの巣は「静寂状態」に。分母Nから除外され、減価が加速。</p>
                        </div>
                        <span class="mechanism-toggle">▼</span>
                    </div>
                    <div class="mechanism-body">
                        <ul>
                            <li><strong>90日間取引ゼロ</strong> → 静寂状態と判定</li>
                            <li><strong>Mana配分の分母Nから除外</strong> — 活動中の巣の配分が薄まらない</li>
                            <li><strong>減価加速</strong> — 放棄された巣は自然に消滅へ</li>
                            <li><strong>復帰可能</strong> — 再び取引すれば静寂状態は解除</li>
                        </ul>
                        <div class="mech-metaphor">🏚️ 長く空いた巣は森に還る。でも再び住めば、また巣として機能する。</div>
                    </div>
                </div>

                <!-- M7: 復帰パス -->
                <div class="mechanism">
                    <div class="mechanism-header" onclick="this.parentElement.classList.toggle('open')">
                        <div class="mechanism-num">7</div>
                        <div class="mechanism-info">
                            <h3>復帰パス（Restoration Path）</h3>
                            <p>病気・災害による長期離脱からの復帰を、デバイス紐づけで本人確認しながら保護する。</p>
                        </div>
                        <span class="mechanism-toggle">▼</span>
                    </div>
                    <div class="mechanism-body">
                        <p>Meguri は「自然に存在するものを保護する」という原則を貫く。病気や災害で90日以上動けなかった人が、復帰しても通貨がゼロに近い状態では、実質的なデジタル追放になってしまう。しかし、「復帰です」という詐称を許してはいけない。</p>
                        <p style="margin-top: 12px;"><strong>解決：デバイス紐づけ + 段階的 Grace Period</strong></p>
                        <ul>
                            <li><strong>デバイス確認</strong> — 復帰申請時、デバイス固有ID（TPM / Secure Enclave など）が巣の記録と一致するか確認。一致すれば本人確認完了</li>
                            <li><strong>Grace Period（30日）</strong> — 復帰確認後、1回限り30日間の完全な配分保障。この間に正常な活動に戻れば、その後は通常に復帰</li>
                            <li><strong>デバイス交換対応</strong> — 最後の取引から30日以内の新デバイスからの申請なら、デバイス紐づけを更新して grace period を付与</li>
                            <li><strong>反復濫用防止</strong> — Grace period は巣ごとに1回限り。「離脱・復帰」を何度も繰り返す攻略法を防止</li>
                        </ul>
                        <div class="mech-metaphor">🌱 倒れた人が目覚めて、一息ついて、また歩き始める。Meguri はそれを応援する。でも、わざと倒れるふりをして特典を受け取ろうとする人は、構造的に得できない。</div>
                        <p class="mech-note" style="margin-top: 12px;">複数デバイスでの巣量産は Phase 2-02（第4軸：1デバイス = 1主要な巣）で既に防止済み。Grace period の濫用も1回限りで防ぐため、Sybil 攻撃の合算効果は生じない。</p>
                    </div>
                </div>

            </div>
        </div>

        <!-- ===== 7. 全体構造 ===== -->
        <div class="section">
            <h2 class="section-title">全体の構造</h2>
            <p class="section-lead">
                各メカニズムが独立して機能しながら、全体として<strong>「正直に生きることが最適戦略になる生態系」</strong>を構築。
            </p>

            <div class="layer-diagram">
                <div class="layer-row">
                    <div class="layer-label">減価層</div>
                    <div class="layer-content">不自然な保有パターン → 自動的に加速減衰</div>
                </div>
                <div class="layer-arrow">↕</div>
                <div class="layer-row">
                    <div class="layer-label">循環品質層</div>
                    <div class="layer-content">閉じた取引パターン → Q_equity 低下（コミュニティ相対評価）</div>
                </div>
                <div class="layer-arrow">↕</div>
                <div class="layer-row">
                    <div class="layer-label">Mana配分層</div>
                    <div class="layer-content">雨モデル（1/N均等配分）→ 複数巣化の ROI をゼロに</div>
                </div>
                <div class="layer-arrow">↕</div>
                <div class="layer-row">
                    <div class="layer-label">PoB層</div>
                    <div class="layer-content">第一層: AND異常検知（バイナリ）/ 第二層: ソフトミン配分（連続値）</div>
                </div>
                <div class="layer-arrow">↕</div>
                <div class="layer-row">
                    <div class="layer-label">静寂層</div>
                    <div class="layer-content">90日無活動 → 分母Nから除外 + 減価加速 → 自然消滅</div>
                </div>
                <div class="layer-arrow">↕</div>
                <div class="layer-row">
                    <div class="layer-label">VRF層</div>
                    <div class="layer-content">検証可能な乱数 + zk-SNARK で予測困難性と透明性を両立</div>
                </div>
            </div>

            <div class="principle-box" style="margin-top: 32px;">
                <blockquote>
                    自然に存在するものを自然に守り、<br>
                    不自然なものを自然に排除する。<br>
                    識別せず、罰せず、ただ構造で。
                </blockquote>
                <p class="source">— 全6討論を貫く Meguri の統一原理</p>
            </div>
        </div>

        <!-- ===== 8. アーキテクチャ ===== -->
        <div class="section">
            <h2 class="section-title">Meguri を動かす技術基盤</h2>
            <p class="section-lead">
                ここからは、上記6つのメカニズムを<strong>どんなインフラの上で実現するか</strong>という技術基盤の構想です（討論とは別に検討中の内容であり、Phase 2 シミュレーションで検証予定）。
                Meguri は既存のブロックチェーンをそのまま使うのではなく、思想に合った技術を組み合わせて基盤を設計します。
                現時点での有力候補は、<strong>Holochain</strong> と <strong>Tangle（IOTA）</strong>の長所を融合したハイブリッド構成です。
            </p>

            <div class="story-block">
                <h3>なぜブロックチェーンではないのか</h3>
                <p>
                    多くの仮想通貨は Proof of Work（計算力 = 信頼）や Proof of Stake（持ち分 = 信頼）で動いています。
                    しかし PoW は膨大な電力を浪費し、PoS は「たくさん持っている人ほど信頼される」構造 —— つまり<strong>溜め込むことに報酬を与える仕組み</strong>です。
                    どちらも Meguri の「脱所有」「循環が本質」という思想とは相容れません。
                </p>
            </div>

            <div class="story-block">
                <h3>Holochain — 巣が主役のネットワーク</h3>
                <p>
                    Holochain は「全員が同じ帳簿を共有する」というブロックチェーンの発想を捨てた、<strong>エージェント中心</strong>のアーキテクチャです。
                    各参加者が自分だけの記録チェーン（source chain）を持ち、近隣のピアがお互いの記録を検証し合います。
                </p>
                <div class="story-metaphor">
                    🪹 各「巣」が自分の履歴を持ち、ご近所さん同士で見守り合う。まさに Meguri の「巣」のイメージそのもの。
                </div>
                <p>
                    マイニングもステーキングも不要。近隣ピアのグループ（DHT ネイバーフッド）は、
                    Meguri の「コミュニティ相対評価」の自然な基盤になります。
                </p>
            </div>

            <div class="story-block">
                <h3>Tangle の知恵 — 使うほど強くなる</h3>
                <p>
                    IOTA の Tangle では、取引するたびに過去の他の取引を検証します。
                    つまり<strong>使えば使うほどネットワーク全体の検証が進み、強くなる</strong>。
                    この仕組みを Holochain のバリデーション・ルール（DNA）に組み込みます。
                </p>
                <div class="story-metaphor">
                    🌊 取引する → ネットワークが強くなる → 循環が奨励される。<br>
                    溜め込む → 検証に貢献しない → 減価が進む。<br>
                    統一原理がインフラ層でも実現される。
                </div>
            </div>

            <div class="story-block">
                <h3>全体の構成</h3>
                <p>3つの層が連携して動きます。</p>

                <div class="arch-layer-diagram">
                    <div class="layer-row">
                        <div class="layer-label">巣の層</div>
                        <div class="layer-content">各巣が自分の Source Chain を持つ。取引履歴、減価、PoB データを記録。</div>
                    </div>
                    <div class="layer-arrow">↕ 検証・共有</div>
                    <div class="layer-row">
                        <div class="layer-label">コミュニティ層</div>
                        <div class="layer-content">DHT で近隣ピアが検証し合う。取引時に過去の他の取引も検証（Tangle 方式）。</div>
                    </div>
                    <div class="layer-arrow">↕ 集約</div>
                    <div class="layer-row">
                        <div class="layer-label">グローバル層</div>
                        <div class="layer-content">Mana の蓄積監視、Bloom 発生判定、雨モデル配分のトリガー、VRF による乱数。</div>
                    </div>
                </div>

                <p class="mech-note">
                    各巣の Source Chain のハッシュ連鎖が、個人レベルの Proof of History（時刻証明）として機能します。減価計算に必要な「いつから動いていないか」を暗号学的に証明できます。
                </p>
                <p class="mech-note">
                    グローバル層は中央サーバーではなく、DHT 上の集約クエリと VRF の分散合意で実現する想定です。Mana の蓄積量は各コミュニティ層から伝搬されるローカル集計値の合算で算出し、Bloom の発生判定は VRF の閾値超過として各巣が独立に検証できる設計を目指しています。具体的な実装方式は Phase 2 シミュレーションで検証予定です。
                </p>
            </div>
        </div>

        <!-- ===== 9. まだ解けていないこと ===== -->
        <div class="section">
            <h2 class="section-title">まだ解けていないこと</h2>
            <p class="section-lead">Meguri はまだ設計途中です。以下のような課題が残っています。</p>

            <div class="open-issues">
                <div class="open-issue">
                    <div class="issue-severity high"></div>
                    <div>
                        <h4>雨モデルだと、頑張る動機がない？</h4>
                        <p>全員に均等配分するなら、良い循環を維持する個人的な動機が生まれない。品質評価の役割を再定義する必要がある。</p>
                    </div>
                </div>
                <div class="open-issue">
                    <div class="issue-severity high"></div>
                    <div>
                        <h4>AI が大量に参加したら？</h4>
                        <p>「AI も受け入れる」と「均等配分」を両立すると、AI が巣を大量に作った場合に人間の取り分が希釈されてしまう。</p>
                    </div>
                </div>
                <div class="open-issue">
                    <div class="issue-severity high"></div>
                    <div>
                        <h4>「少額取引」の線引きは誰がする？</h4>
                        <p>部分リセットの閾値を誰かが決める時点で、中央集権的な判断になり「脱所有」の哲学と矛盾する。</p>
                    </div>
                </div>
                <div class="open-issue">
                    <div class="issue-severity mid"></div>
                    <div>
                        <h4>長期離脱からの復帰が難しい</h4>
                        <p>病気や災害で長期離脱した場合、静寂閾値 + 減衰加速で復帰困難に。復帰の仕組みがまだない。</p>
                    </div>
                </div>
                <div class="open-issue">
                    <div class="issue-severity low"></div>
                    <div>
                        <h4>コミュニティの境界をどう決める？</h4>
                        <p>取引グラフでコミュニティを定義する方針は決まったが、具体的なやり方はまだこれから。</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- ===== 呼びかけ ===== -->
        <div class="section">
            <div class="callout">
                <h3>みなさんの力を貸してください</h3>
                <p>
                    「こんな通貨だったら面白い」「こういう抜け道がありそう」「こんな世界観が合いそう」といった自由な発想を、ぜひ共有していただけたらすごく嬉しいです。
                    世界観、比喩、物語、ゲーム的ルール、応援メッセージだけなど、どんな形でも大歓迎です。
                    みなさまの創造力でこの生き物が生まれるのを手伝ってほしいです。
                </p>
                <div class="callout-links">
                    <a href="index.html" class="callout-link primary">議論ログを読む →</a>
                    <a href="discussions/review_haruhi.html" class="callout-link secondary">外部レビューを見る</a>
                </div>
            </div>
        </div>

        <!-- ===== フッター ===== -->
        <footer>
            <p>🌀 Meguri Project — 循環する通貨、生き物のような経済</p>
            <p style="margin-top: 8px;">
                <a href="index.html">議論ログ一覧</a> ｜
                <a href="discussions/review_haruhi.html">外部レビュー</a> ｜
                Generated by <a href="https://claude.ai" target="_blank">Claude Code</a>
            </p>
        </footer>

    </div>

    <script>
        // 最初のメカニズムを開いた状態にする
        document.querySelector('.mechanism').classList.add('open');
    </script>
</body>

</html>
